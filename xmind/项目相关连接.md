#### 代码地址：

NIOHome：git地址：

Potal：<https://git.nevint.com/NIOhome/Portal.git>

StaticWebSite：<https://git.nevint.com/NIOhome/StaticWebSite.git>

微信审批：

html Git：<https://git.nevint.com/xuelei.kong/NIO-WF-WX.git>

模板git: <https://git.nevint.com/hanyu.liu/NewWorkflow_Biz.git>

#### 转单地址：

测试环境转单：http://10.110.2.216:8088/workflow/niohome/replace?bizData={%22taskId%22:%225b296b521d5945409ec00994260d3d48%22,%22inputUser%22:%22yang.shen%22}

UAT转单：http://10.110.0.201:8088/workflow/niohome/replace?bizData={%22taskId%22:%22aa1425d05cb6457a8c3ba49ce4d3d73e%22,%22inputUser%22:%22kuonan.liu%22}

模板地址：Develop分支，项目根目录=>SmartApi/Views/Templete/

测试环境网页地址：http://10.110.2.39:90/Modules/Ultimus.UWF.Home2/Login.aspx?ReturnUrl=%2f

转单工具：

http://10.110.2.216:8088/workflow/niohome/replace?bizData={"taskId":"2f3c8d3877db40128ccfa11996e400c2","inputUser":"kuonan.liu"}



积分申请网址：http://10.110.2.102:8004/src/html/integral.html



微信审批页在浏览器登陆网址，测试环境：http://10.110.2.102:8004/src/html/approve.html?formno=IN20171100038&taskid=5eb5e7c3fd8a451e8f23ad6eb95e5caf&pid=1db3b2e84e174667a59fa138b2d2ede1&source=mine&1=1



缓存容器：

```js

function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}
```

### [安装sass](http://blog.csdn.net/wytbr666/article/details/77477182) 

1. 先下载ruby：https://rubyinstaller.org/downloads/

2. 安装成功后，用命令进行检查，成功会显示版本信息：

   ```JS
   ruby -v
   gem -v
   ```

3. 安装sass:`gem install sass` 

4. 安装成功后，在D:\Ruby23-x64\bin里面会有scss.bat的文件

5. 在webstorm中添加Watcher：`File -> Settings -> Tools -> File Watchers -> + -> SCSS` 

6. Arguments:配置编译后的文件的输出路径:`--no-cache --update --sourcemap watch $FileName$:$FileParentDir$\css\$FileNameWithoutExtension$.css` 

7. Output paths to refresh:`$FileNameWithoutExtension$.css:$FileNameWithoutExtension$.css.map` 

8. Program:

9. 同步编译只能在项目文件夹下,也就是webstorm左侧打开的项目.随便打开一个项目外的文件是不行的

10. 不能带有中文，无论是路径名,文件名,文件里的内容,都不能识别中文,如果非要在文件中加入中文,可以试试在sass文件开头加入 @charset ‘UTF-8’;

#### 通用流程项目  NWF_AdminSystem

visual studio--> MVCWeb

HTML：Views-->DTYApprovalProcess

js:content--> PageScript-->DIYApprovalProcess	

```js
// 这样在连接自己网站的时候会直接跳到自己的网页
if(window!=window.top){
  window.top.location.href = window.location.href;
}
```

```
localStorage.AutomationWorkFlowAPIUrl
localStorage.LoginUrl
```

pc进入微信todo

http://10.110.2.39:94/login.aspx

```js
// 判断cancel图标是否显示
function getSearch(){
  if(!location.search.includes('?')) return false;
  var pra = location.search.split('?')[1].split('&');
  var obj = {};
  pra.forEach(function(v,i){
    var arr = v.split('=');
    obj[arr[0]]=arr[1]
  });
  return obj
}
```



```js
<label class="form-label" v-for="(v,i) in AdjustmentTypeArr" >
                    <input type="radio" name="budget" v-model="Data.AdjustmentTypeCode"
                           :value="v.AdjustmentTypeCode"
                           @change="Data.AdjustmentType = v.AdjustmentType"><span v-text="v.AdjustmentType"></span>
                  </label>
// 单选按钮绑定两个值
```

```
  <select class="submit-remove" v-model="Data.CostCenter">
    <option :value="val" v-for="val in CostCenterList" v-text="val"></option>
  </select>
```

```
@keyup="detail.Quantity"
```
Successfully deleted

```
submit-remove
```

```
getQueryStringByName('source')
this.pagechange();
```
```
// ios 安卓 type-date 默认选中状态不同
canSelDate:function(){
  if(!event.target.value)  event.target.value = new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getDate()
},
```
```
moneyIcon: {
          'CNY': '¥',
          'USD': '$',
          'GBP': '£',
          'EUR': '€',
          'HKD': 'HK$',
          'NTD': 'NT$',
          'KRW': '₩',
          'JPY': '¥',
          'INR': 'Rs',
          'TWD': 'NT$',
          'AUD': 'A$',
          'CHF': 'SF',
          "MYR": "RM",
          "NZD": "NZ$",
          "SEK": "S.Kr",
          "SGD": "S$",
          "CAD": "C$",
          "THB": "฿"
        },
```



```
dev微信todo链接：
http://10.110.2.104:9002/#/approve?1=1&formno=UP20180200055&taskid=67ffab8c0778414583cf22cbb0672abe&pid=9ecc547e57d840278e843e44da7655e1&source=todo&1=1&Rtn=weixin&wxcode=4nviXU-Nhyb4_ih9REE0hF9RCpm0uWn9yQ_XJBVKyfM&state=aa%3FtempId%3Da5ea1356-4d72-4a50-acc9-3d98cf209196
```

```
localhost微信todo链接：
http://localhost:8089/#/approve?1=1&formno=UP20180200055&taskid=67ffab8c0778414583cf22cbb0672abe&pid=9ecc547e57d840278e843e44da7655e1&source=todo&1=1&Rtn=weixin&wxcode=0PtM0--vgBAnR0a_BQlyOXAJBQOPML_C6vRLdQGkj8o&state=aa%3FtempId%3D8d1cb27c-1dd6-4efb-b40f-bf9783457e01
```

```
小额采购申请单PR20180100032
```

```	
页面加载时只执行onload
页面关闭时只执行onunload
页面刷新时先执行onbeforeunload，然后onunload，最后onload。这样我们可以在onbeforeunload中加一个标记，在onunload中判断该标记，即可达到判断页面是否真的关闭了。
```

```
word-break:break-all;
```

``` 
//英国PR
http://10.110.2.104:9002/#/approve?1=1&formno=UP20180200007&taskid=9e12778d1a2f4845b24163588be052c6&pid=c95f538d27c047beb227a3dd48fdad8a&source=todo&Rtn=weixin&wxcode=-RrqdLqvXcTkS-PlD5nthgPloBV8HezC_UhAkoGsCMo&state=aa%3FtempId%3D6f1e2a99-5e27-4810-92f5-61b9f4c85aac
```

```
//promise 构造函数
	function fetch() {
      return new Promise(function (resolve, reject) {
        $.ajax({
          url: 'xxx',
          success: function (data) {
            resolve(data)
          },
          error: function (error) {
            reject(error)
          }
        })
      })
    }
    fetch().then(function (data) {}).catch(function (error) {})
```

